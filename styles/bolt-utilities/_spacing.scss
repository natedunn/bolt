@mixin make-spacing() {
  $spacing-types: (
    m, // Margin
    p // Padding
  );
  $directions: (
    a, // All
    v, // Vertical
    h, // Horizontal
    t, // Top
    r, // Right
    b, // Bottom
    l  // Left
  );
  $margin-auto-directions: (
    r, // Right
    l, // Left
    h // Horizontal
  );
  @each $breakpoint in $grid-breakpoints {
    @media (min-width: #{nth($breakpoint, 2)}) {
      @each $type in $spacing-types {
        @each $direction in $directions {
          @each $size in $spacing {
            $amount: nth($size, 2);
            .#{nth($type, 1)}#{nth($direction, 1)}-#{nth($breakpoint, 1)}-#{nth($size, 1)} {
              @if $direction == a {
                margin-top: $amount !important;
                margin-right: $amount !important;
                margin-bottom: $amount !important;
                margin-left: $amount !important;
              }
              @else if $direction == v {
                margin-top: $amount !important;
                margin-bottom: $amount !important;
              }
              @else if $direction == h {
                margin-right: $amount !important;
                margin-left: $amount !important;
              }
              @else if $direction == t {
                margin-top: $amount !important;
              }
              @else if $direction == r {
                margin-right: $amount !important;
              }
              @else if $direction == b {
                margin-bottom: $amount !important;
              }
              @else if $direction == l {
                margin-left: $amount !important;
              }
            }
          }
        }
      }
    }
  }
  @each $breakpoint in $grid-breakpoints {
    @media (min-width: #{nth($breakpoint, 2)}) {
      @each $direction in $margin-auto-directions {
        .m#{nth($direction, 1)}-#{nth($breakpoint, 1)}-auto {
          @if $direction == h {
            margin-left: auto;
            margin-right: auto;
          }
          @else if $direction == l {
            margin-left: auto;
          }
          @else if $direction == r {
            margin-right: auto;
          }
        }
      }
    }
  }
}

@if $spacing-enabled == true {
  @include make-spacing();
}
